<section class="register-photo">
    <div class="form-container">
        <div class="image-holder"></div>
        <form id="Register_Form" onsubmit="doRegister()">
            <h2 class="text-center"><strong>Create</strong> an account.</h2>
            <div class="mb-3"><input id="register-fname" class="form-control" type="fname" name="fname" placeholder="First Name" required="" maxlength="32"></div>
            <div class="mb-3"><input id="register-lname" class="form-control" type="lname" name="lname" placeholder="Last Name" required="" maxlength="32"></div>
            <div class="mb-3"><input id="register-email" class="form-control" type="email" name="email" placeholder="Email" required="" maxlength="64"></div>
            <div class="mb-3"><input id="register-password" class="form-control" type="password" name="password" placeholder="Password" required="" minlenght="8" maxlength="32"></div>
            <div class="mb-3"><input id="register-repeat-password" class="form-control" type="password" name="password-repeat" placeholder="Password (repeat)" required="" minlength="8" maxlength="32"></div>
            <div class="mb-3"><input id="register-telephone" class="form-control" type="tel" name="tel" placeholder="Telephone" required="" maxlength="64"></div>
            <div class="mb-3">
                <p style="margin: 0px;font-size: 12px;">All fields are required.</p>
            </div>
            <div class="mb-3">
                <div class="form-check"><label class="form-check-label"><input class="form-check-input" type="checkbox" required="">I agree to the license terms.</label></div>
            </div>
            <div id="Password-match" class="alert alert-danger" role="alert" style="display: none;"></div>
            <div class="mb-3"><button id="RegisterButton" class="btn btn-primary d-block w-100" type="submit">Sign Up</button></div>
        </form>
    </div>
</section>
<script type="text/javascript">

  $("#Register_Form").submit(function(e) {
    e.preventDefault();
  });

  function doRegister() {
      if($('#register-password').val() != $('#register-repeat-password').val()){
         $('#Password-match').show().text("Passwords don't match !");
         return 0;
      }
      $('#Password-match').hide();

      var register_info = {
          "first_name" : $("#register-fname").val(),
          "last_name" : $("#register-lname").val(),
          "email" : $("#register-email").val(),
          "password" : $("#register-password").val(),
          "telephone" : $("#register-telephone").val()
      };

      $("#RegisterButton").addClass('disabled');
      $.post("http://localhost/real-estate/api/register", register_info).done(function(data){
          location.replace("#register-accepted");
          $("#ForgotButton").removeClass('disabled');
      }).fail(function(error){
          $("#Password-match").show().text( error.responseJSON.message );
          $("#RegisterButton").removeClass('disabled');
      });

  }

</script>
