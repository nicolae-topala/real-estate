<section class="register-photo">
    <div class="form-container">
        <div class="image-holder"></div>
        <form id="Register_Form" role="form" method="POST" onsubmit="doRegister(); return false">
            <h2 class="text-center"><strong>Create</strong> an account.</h2>
            <div class="mb-3"><input class="form-control" type="fname" name="first_name" placeholder="First Name" required maxlength="32"></div>
            <div class="mb-3"><input class="form-control" type="lname" name="last_name" placeholder="Last Name" required maxlength="32"></div>
            <div class="mb-3"><input class="form-control" type="email" name="email" placeholder="Email" required maxlength="64"></div>
            <div class="mb-3"><input id="register-password" class="form-control" type="password" name="password" placeholder="Password" required minlength="8" maxlength="32"></div>
            <div class="mb-3"><input id="repeat-register-password" class="form-control" type="password" placeholder="Password (repeat)" required minlength="8" maxlength="32"></div>
            <div class="mb-3"><input class="form-control" type="number" name="telephone" placeholder="Telephone" required maxlength="64"></div>
            <div class="mb-3">
                <p style="margin: 0px;font-size: 12px;">All fields are required.</p>
            </div>
            <div class="mb-3">
                <div class="form-check"><label class="form-check-label"><input class="form-check-input" type="checkbox" required>I agree to the license terms.</label></div>
            </div>
            <div id="Password-match" class="alert alert-danger" role="alert" style="display: none;"></div>
            <div class="mb-3"><button id="RegisterButton" class="btn btn-primary d-block w-100" type="submit">Sign Up</button></div>
        </form>
    </div>
</section>
<script type="text/javascript">
  function doRegister() {
      if($('#register-password').val() != $('#repeat-register-password').val()){
         $('#Password-match').show().text("Passwords don't match !");
         return 0;
      }
      $('#Password-match').hide();

      $("#RegisterButton").addClass('disabled');
      $.post("api/register", jsonize_form("#Register_Form")).done(function(data){
        $("#RegisterButton").removeClass('disabled');
        location.replace("#register-accepted");

      }).fail(function(error){
          $("#Password-match").show().text( error.responseJSON.message );
          $("#RegisterButton").removeClass('disabled');
      });
  }
</script>
